<!DOCTYPE html>  
<html>  
<head>  
<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />  
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />  
<title>Hello, World</title>  
<style type="text/css">  
html{height:100%}  
body{height:100%;margin:0px;padding:0px}  
#container{height:100%}  
</style>  
<script type="text/javascript" src="http://api.map.baidu.com/api?v=1.5&ak=3znu0v6PlbZ9QzkqyW1WV1RW">

</script>
</head>  
 
<body>  
<div id="container"></div> 
<script type="text/javascript"> 
var lat = parent.document.getElementById("mapX");
var lng = parent.document.getElementById("mapY");
var map = new BMap.Map("container"); 
map.enableScrollWheelZoom();
var point = null ;
if(lng==null||lat==null||lat.value==null||lng.value==null||lat.value==""||lng.value==""){
	point = new BMap.Point(114.05, 22.55); 
}else{
	point = new BMap.Point(lng.value,lat.value);
	var initMark = new BMap.Marker(point);        // 创建标注    
	map.addOverlay(initMark); 
}
map.centerAndZoom(point, 13);  

//获取坐标地址
map.addEventListener("click", function(e){    
	lat.value = e.point.lat;
	lng.value = e.point.lng;
	map.clearOverlays();//清除地图上面所有的点
	var marker = new BMap.Marker(e.point);        // 创建标注    
	map.addOverlay(marker);     
});               
</script>  
</body>  
</html>